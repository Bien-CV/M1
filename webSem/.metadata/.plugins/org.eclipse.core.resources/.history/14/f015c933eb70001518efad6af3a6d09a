import java.io.IOException;
import java.nio.charset.StandardCharsets;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.List;

import org.apache.jena.query.Dataset;
import org.apache.jena.rdf.model.Model;
import org.apache.jena.rdf.model.ModelFactory;
import org.apache.jena.sparql.core.DatasetImpl;

public class ControllerBis {

	private Dataset dataset;

	/**
	 * Constructeur
	 */
	public ControllerBis() {
		// create an empty dataset
		this.dataset = new DatasetImpl(ModelFactory.createDefaultModel());
	}

	/**
	 * Constructeur au cas où l'on veut passer un autre type de model exemple un
	 * model inféré
	 */
	public ControllerBis(Model model) {
		this.dataset = new DatasetImpl(model);
	}

	/**
	 * Lit une requête dans un fichier et la renvoie sous forme de chaîne
	 * 
	 * @param directory
	 *            String Répertoire dans lequel chercher le fichier
	 * @param filename
	 *            String Fichier contenant la requête à extraire
	 * @return String La requête SPARQL formée à partir du fichier
	 */
	private String readQuery(String directory, String filename) {
		List<String> lines = null;
		String query = "";

		try {
			// On récupère le contenu du fichier
			lines = Files.readAllLines(Paths.get(directory, filename),
					StandardCharsets.UTF_8);
		} catch (IOException e) {
			e.printStackTrace();
		}

		// on forme la requête depuis le fichier
		for (String l : lines) {
			query += " " + l;
		}

		return query;
	}

}
